import{r as s,o as h,s as de,n as J,i as ue,I as z,k as je,y as K,l as Q,w as Ce,A as ke,m as Ne,p as W,z as Pe,R as M,v as Le,q as De,t as Y,H as V,x as Fe,B as Me,F as Ae,C as _e,G as Ue,$ as Be,D as Qe,E as qe,J as ce,T as ze,M as Ke,P as Ve,Q as Ge,S as He,U as Je,V as We,W as T,X as Ye,Y as Ze,Z as Xe,_ as et,a0 as tt,a1 as nt,a2 as ot,a3 as rt,a4 as at,a5 as j,a6 as it,a7 as ie,a8 as ne,a9 as st,d as lt,h as pe,u as ut,c as fe,j as i,K as oe}from"./index-BRnPnvLZ.js";import{b as me,u as dt,a as ct}from"./actions-BQJ2jxXy.js";import{u as pt}from"./index.esm-CJkZBfoR.js";import{a as q,u as ft,b as mt}from"./context-B7hdv15O.js";import{A as ve}from"./constants-qZa9FZnL.js";import{j as vt,p as xt,_ as re}from"./dialog-CxU_RTVD.js";function bt(e,o,r){let[n,a]=s.useState(r),l=e!==void 0,u=s.useRef(l),f=s.useRef(!1),d=s.useRef(!1);return l&&!u.current&&!f.current?(f.current=!0,u.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&u.current&&!d.current&&(d.current=!0,u.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?e:n,h(v=>(l||a(v),o==null?void 0:o(v)))]}function gt(e){let[o]=s.useState(e);return o}function ht(e,o){return e!==null&&o!==null&&typeof e=="object"&&typeof o=="object"&&"id"in e&&"id"in o?e.id===o.id:e===o}function yt(e=ht){return s.useCallback((o,r)=>{if(typeof e=="string"){let n=e;return(o==null?void 0:o[n])===(r==null?void 0:r[n])}return e(o,r)},[e])}function Ot(e,o){let[r,n]=s.useState(e),a=de(e);return J(()=>n(a.current),[a,n,...o]),r}var St=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(St||{}),Rt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Rt||{}),Tt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Tt||{}),wt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e))(wt||{});function ae(e,o=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=st(o(e.options.slice()),l=>l.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{options:n,activeOptionIndex:a}}let $t={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let o=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(a=>r(a.dataRef.current.value));return n!==-1&&(o=n),{...e,listboxState:0,activeOptionIndex:o,__demoMode:!1}},2(e,o){var r,n,a,l,u;if(e.dataRef.current.disabled||e.listboxState===1)return e;let f={...e,searchQuery:"",activationTrigger:(r=o.trigger)!=null?r:1,__demoMode:!1};if(o.focus===T.Nothing)return{...f,activeOptionIndex:null};if(o.focus===T.Specific)return{...f,activeOptionIndex:e.options.findIndex(t=>t.id===o.id)};if(o.focus===T.Previous){let t=e.activeOptionIndex;if(t!==null){let m=e.options[t].dataRef.current.domRef,y=ne(o,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(y!==null){let x=e.options[y].dataRef.current.domRef;if(((n=m.current)==null?void 0:n.previousElementSibling)===x.current||((a=x.current)==null?void 0:a.previousElementSibling)===null)return{...f,activeOptionIndex:y}}}}else if(o.focus===T.Next){let t=e.activeOptionIndex;if(t!==null){let m=e.options[t].dataRef.current.domRef,y=ne(o,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(y!==null){let x=e.options[y].dataRef.current.domRef;if(((l=m.current)==null?void 0:l.nextElementSibling)===x.current||((u=x.current)==null?void 0:u.nextElementSibling)===null)return{...f,activeOptionIndex:y}}}}let d=ae(e),v=ne(o,{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.current.disabled});return{...f,...d,activeOptionIndex:v}},3:(e,o)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,n=e.searchQuery+o.value.toLowerCase(),a=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(u=>{var f;return!u.dataRef.current.disabled&&((f=u.dataRef.current.textValue)==null?void 0:f.startsWith(n))}),l=a?e.options.indexOf(a):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:l,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,o)=>{let r={id:o.id,dataRef:o.dataRef},n=ae(e,a=>[...a,r]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(o.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},6:(e,o)=>{let r=ae(e,n=>{let a=n.findIndex(l=>l.id===o.id);return a!==-1&&n.splice(a,1),n});return{...e,...r,activationTrigger:1}}},se=s.createContext(null);se.displayName="ListboxActionsContext";function Z(e){let o=s.useContext(se);if(o===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Z),r}return o}let X=s.createContext(null);X.displayName="ListboxDataContext";function G(e){let o=s.useContext(X);if(o===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,G),r}return o}function Et(e,o){return Q(o.type,$t,e,o)}let It=s.Fragment;function jt(e,o){var r;let n=je(),{value:a,defaultValue:l,form:u,name:f,onChange:d,by:v,invalid:t=!1,disabled:m=n||!1,horizontal:y=!1,multiple:x=!1,__demoMode:O=!1,...k}=e;const _=y?"horizontal":"vertical";let D=K(o),P=gt(l),[S=x?[]:void 0,E]=bt(a,d,P),[L,p]=s.useReducer(Et,{dataRef:s.createRef(),listboxState:O?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,__demoMode:O}),C=s.useRef({static:!1,hold:!1}),g=s.useRef(null),N=s.useRef(null),F=s.useRef(new Map),U=yt(v),w=s.useCallback(R=>Q(b.mode,{1:()=>S.some(I=>U(I,R)),0:()=>U(S,R)}),[S]),b=s.useMemo(()=>({...L,value:S,disabled:m,invalid:t,mode:x?1:0,orientation:_,compare:U,isSelected:w,optionsPropsRef:C,buttonRef:g,optionsRef:N,listRef:F}),[S,m,t,x,L,F]);J(()=>{L.dataRef.current=b},[b]),Ce([b.buttonRef,b.optionsRef],(R,I)=>{var A;p({type:1}),ke(I,Ne.Loose)||(R.preventDefault(),(A=b.buttonRef.current)==null||A.focus())},b.listboxState===0);let ee=s.useMemo(()=>({open:b.listboxState===0,disabled:m,invalid:t,value:S}),[b,m,S,t]),c=h(R=>{let I=b.options.find(A=>A.id===R);I&&te(I.dataRef.current.value)}),$=h(()=>{if(b.activeOptionIndex!==null){let{dataRef:R,id:I}=b.options[b.activeOptionIndex];te(R.current.value),p({type:2,focus:T.Specific,id:I})}}),B=h(()=>p({type:0})),ge=h(()=>p({type:1})),le=W(),he=h((R,I,A)=>{le.dispose(),le.microTask(()=>R===T.Specific?p({type:2,focus:T.Specific,id:I,trigger:A}):p({type:2,focus:R,trigger:A}))}),ye=h((R,I)=>(p({type:5,id:R,dataRef:I}),()=>p({type:6,id:R}))),te=h(R=>Q(b.mode,{0(){return E==null?void 0:E(R)},1(){let I=b.value.slice(),A=I.findIndex(Ie=>U(Ie,R));return A===-1?I.push(R):I.splice(A,1),E==null?void 0:E(I)}})),Oe=h(R=>p({type:3,value:R})),Se=h(()=>p({type:4})),Re=s.useMemo(()=>({onChange:te,registerOption:ye,goToOption:he,closeListbox:ge,openListbox:B,selectActiveOption:$,selectOption:c,search:Oe,clearSearch:Se}),[]),[Te,we]=Pe({inherit:!0}),$e={ref:D},Ee=s.useCallback(()=>{if(P!==void 0)return E==null?void 0:E(P)},[E,P]);return M.createElement(we,{value:Te,props:{htmlFor:(r=b.buttonRef.current)==null?void 0:r.id},slot:{open:b.listboxState===0,disabled:m}},M.createElement(Le,null,M.createElement(se.Provider,{value:Re},M.createElement(X.Provider,{value:b},M.createElement(De,{value:Q(b.listboxState,{0:Y.Open,1:Y.Closed})},f!=null&&S!=null&&M.createElement(vt,{disabled:m,data:{[f]:S},form:u,onReset:Ee}),V({ourProps:$e,theirProps:k,slot:ee,defaultTag:It,name:"Listbox"}))))))}let Ct="button";function kt(e,o){var r;let n=G("Listbox.Button"),a=Z("Listbox.Button"),l=s.useId(),u=Fe(),{id:f=u||`headlessui-listbox-button-${l}`,disabled:d=n.disabled||!1,autoFocus:v=!1,...t}=e,m=K(n.buttonRef,o,Me()),y=Ae(),x=W(),O=h(w=>{switch(w.key){case j.Enter:xt(w.currentTarget);break;case j.Space:case j.ArrowDown:w.preventDefault(),a.openListbox(),x.nextFrame(()=>{n.value||a.goToOption(T.First)});break;case j.ArrowUp:w.preventDefault(),a.openListbox(),x.nextFrame(()=>{n.value||a.goToOption(T.Last)});break}}),k=h(w=>{switch(w.key){case j.Space:w.preventDefault();break}}),_=h(w=>{if(it(w.currentTarget))return w.preventDefault();n.listboxState===0?(a.closeListbox(),x.nextFrame(()=>{var b;return(b=n.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(w.preventDefault(),a.openListbox())}),D=h(w=>w.preventDefault()),P=_e([f]),S=Ue(),{isFocusVisible:E,focusProps:L}=Be({autoFocus:v}),{isHovered:p,hoverProps:C}=Qe({isDisabled:d}),{pressed:g,pressProps:N}=qe({disabled:d}),F=s.useMemo(()=>({open:n.listboxState===0,active:g||n.listboxState===0,disabled:d,invalid:n.invalid,value:n.value,hover:p,focus:E,autofocus:v}),[n.listboxState,n.value,d,p,E,g,n.invalid,v]),U=ce(y(),{ref:m,id:f,type:ze(e,n.buttonRef),"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.listboxState===0,"aria-labelledby":P,"aria-describedby":S,disabled:d||void 0,autoFocus:v,onKeyDown:O,onKeyUp:k,onKeyPress:D,onClick:_},L,C,N);return V({ourProps:U,theirProps:t,slot:F,defaultTag:Ct,name:"Listbox.Button"})}let xe=s.createContext(!1),Nt="div",Pt=ue.RenderStrategy|ue.Static;function Lt(e,o){var r;let n=s.useId(),{id:a=`headlessui-listbox-options-${n}`,anchor:l,portal:u=!1,modal:f=!0,...d}=e,v=Ke(l);v&&(u=!0);let t=G("Listbox.Options"),m=Z("Listbox.Options"),y=Ve(t.optionsRef),x=Ge(),O=x!==null?(x&Y.Open)===Y.Open:t.listboxState===0;He(t.buttonRef,m.closeListbox,O),Je(y,t.__demoMode?!1:f&&t.listboxState===0),We({allowed:h(()=>[t.buttonRef.current,t.optionsRef.current])},t.__demoMode?!1:f&&t.listboxState===0);let k=s.useRef(null);s.useEffect(()=>{var c;if(!((c=v==null?void 0:v.to)!=null&&c.includes("selection")))return;if(!O){k.current=null;return}let $=Array.from(t.listRef.current.values());k.current=$.findIndex(B=>(B==null?void 0:B.dataset.selected)===""),k.current===-1&&(k.current=$.findIndex(B=>(B==null?void 0:B.dataset.disabled)===void 0),m.goToOption(T.First))},[O,t.listRef]);let _=Ye(t.buttonRef,t.listboxState!==0)?!1:O,D=(()=>{if(v==null)return;if(t.listRef.current.size<=0)return{...v,inner:void 0};let c=Array.from(t.listRef.current.values());return{...v,inner:{listRef:{current:c},index:k.current}}})(),[P,S]=Ze(D),E=Xe(),L=K(t.optionsRef,o,v?P:null),p=W(),C=W();s.useEffect(()=>{var c;let $=t.optionsRef.current;$&&t.listboxState===0&&$!==((c=et($))==null?void 0:c.activeElement)&&($==null||$.focus({preventScroll:!0}))},[t.listboxState,t.optionsRef,t.optionsRef.current]);let g=h(c=>{switch(C.dispose(),c.key){case j.Space:if(t.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),m.search(c.key);case j.Enter:if(c.preventDefault(),c.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:$}=t.options[t.activeOptionIndex];m.onChange($.current.value)}t.mode===0&&(m.closeListbox(),ie().nextFrame(()=>{var $;return($=t.buttonRef.current)==null?void 0:$.focus({preventScroll:!0})}));break;case Q(t.orientation,{vertical:j.ArrowDown,horizontal:j.ArrowRight}):return c.preventDefault(),c.stopPropagation(),m.goToOption(T.Next);case Q(t.orientation,{vertical:j.ArrowUp,horizontal:j.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),m.goToOption(T.Previous);case j.Home:case j.PageUp:return c.preventDefault(),c.stopPropagation(),m.goToOption(T.First);case j.End:case j.PageDown:return c.preventDefault(),c.stopPropagation(),m.goToOption(T.Last);case j.Escape:return c.preventDefault(),c.stopPropagation(),m.closeListbox(),p.nextFrame(()=>{var $;return($=t.buttonRef.current)==null?void 0:$.focus({preventScroll:!0})});case j.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(m.search(c.key),C.setTimeout(()=>m.clearSearch(),350));break}}),N=Ot(()=>{var c;return(c=t.buttonRef.current)==null?void 0:c.id},[t.buttonRef.current]),F=s.useMemo(()=>({open:t.listboxState===0}),[t]),U=ce(v?E():{},{id:a,ref:L,"aria-activedescendant":t.activeOptionIndex===null||(r=t.options[t.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":N,"aria-orientation":t.orientation,onKeyDown:g,role:"listbox",tabIndex:0,style:{...S,"--button-width":tt(t.buttonRef,!0).width}}),[w,b]=s.useState(t.value);t.value!==w&&t.listboxState===0&&t.mode!==1&&b(t.value);let ee=h(c=>t.compare(w,c));return M.createElement(nt,{enabled:u?e.static||O:!1},M.createElement(X.Provider,{value:t.mode===1?t:{...t,isSelected:ee}},V({ourProps:U,theirProps:d,slot:F,defaultTag:Nt,features:Pt,visible:_,name:"Listbox.Options"})))}let Dt="div";function Ft(e,o){let r=s.useId(),{id:n=`headlessui-listbox-option-${r}`,disabled:a=!1,value:l,...u}=e,f=s.useContext(xe)===!0,d=G("Listbox.Option"),v=Z("Listbox.Option"),t=d.activeOptionIndex!==null?d.options[d.activeOptionIndex].id===n:!1,m=d.isSelected(l),y=s.useRef(null),x=ot(y),O=de({disabled:a,value:l,domRef:y,get textValue(){return x()}}),k=K(o,y,g=>{g?d.listRef.current.set(n,g):d.listRef.current.delete(n)});J(()=>{if(d.__demoMode||d.listboxState!==0||!t||d.activationTrigger===0)return;let g=ie();return g.requestAnimationFrame(()=>{var N,F;(F=(N=y.current)==null?void 0:N.scrollIntoView)==null||F.call(N,{block:"nearest"})}),g.dispose},[y,t,d.__demoMode,d.listboxState,d.activationTrigger,d.activeOptionIndex]),J(()=>{if(!f)return v.registerOption(n,O)},[O,n,f]);let _=h(g=>{if(a)return g.preventDefault();v.onChange(l),d.mode===0&&(v.closeListbox(),ie().nextFrame(()=>{var N;return(N=d.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})}))}),D=h(()=>{if(a)return v.goToOption(T.Nothing);v.goToOption(T.Specific,n)}),P=rt(),S=h(g=>{P.update(g),!a&&(t||v.goToOption(T.Specific,n,0))}),E=h(g=>{P.wasMoved(g)&&(a||t||v.goToOption(T.Specific,n,0))}),L=h(g=>{P.wasMoved(g)&&(a||t&&v.goToOption(T.Nothing))}),p=s.useMemo(()=>({active:t,focus:t,selected:m,disabled:a,selectedOption:m&&f}),[t,m,a,f]);return!m&&f?null:V({ourProps:f?{}:{id:n,ref:k,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:_,onFocus:D,onPointerEnter:S,onMouseEnter:S,onPointerMove:E,onMouseMove:E,onPointerLeave:L,onMouseLeave:L},theirProps:u,slot:p,defaultTag:Dt,name:"Listbox.Option"})}let Mt=s.Fragment;function At(e,o){let{options:r,placeholder:n,...a}=e,l={ref:K(o)},u=G("ListboxSelectedOption"),f=s.useMemo(()=>({}),[]),d=u.value===void 0||u.value===null||u.mode===1&&Array.isArray(u.value)&&u.value.length===0;return M.createElement(xe.Provider,{value:!0},V({ourProps:l,theirProps:{...a,children:M.createElement(M.Fragment,null,n&&d?n:r)},slot:f,defaultTag:Mt,name:"ListboxSelectedOption"}))}let _t=z(jt),Ut=z(kt),Bt=at,Qt=z(Lt),qt=z(Ft),zt=z(At),H=Object.assign(_t,{Button:Ut,Label:Bt,Options:Qt,Option:qt,SelectedOption:zt});function Kt({title:e,titleId:o,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},r),e?s.createElement("title",{id:o},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Vt=s.forwardRef(Kt),be=async(e,o,r)=>{const n=localStorage.getItem("authToken")??"";try{e({type:q.FETCH_COMMENTS_REQUEST});const a=await fetch(`${ve}/projects/${o}/tasks/${r}/comments`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Failed to fetch comments");const l=await a.json();console.log(l),e({type:q.FETCH_COMMENTS_SUCCESS,payload:l}),console.dir(l)}catch(a){console.error("Operation failed:",a),e({type:q.FETCH_COMMENTS_FAILURE,payload:"Unable to load comments"})}},Gt=async(e,o,r,n)=>{const a=localStorage.getItem("authToken")??"",l=JSON.parse(localStorage.getItem("userData")||"");try{if(e({type:q.CREATE_COMMENT_REQUEST}),!(await fetch(`${ve}/projects/${o}/tasks/${r}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({description:n,owner:l.id})})).ok)throw new Error("Failed to add comment");e({type:q.CREATE_COMMENT_SUCCESS}),be(e,o,r)}catch(u){console.error("Operation failed:",u),e({type:q.CREATE_COMMENT_FAILURE,payload:"Unable to add comment"})}},Ht=e=>{const o=new Date(e),r=o.getFullYear(),n=String(o.getMonth()+1).padStart(2,"0"),a=String(o.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},Jt=()=>{const e=lt(),[o,r]=s.useState(!0),[n,a]=s.useState(""),{projectID:l,taskID:u}=pe(),f=ft(),d=mt();s.useEffect(()=>{l&&u&&be(d,l,u)},[d,l,u]);const v=ut(),t=fe(),m=me(),y=dt(),x=t==null?void 0:t.projects.filter(p=>`${p.id}`===l)[0],O=m.projectData.tasks[u??""],[k,_]=s.useState(O.assignedUserName??""),{register:D,handleSubmit:P}=pt({defaultValues:{title:O.title,description:O.description,selectedPerson:O.assignedUserName,dueDate:Ht(O.dueDate)}});if(!x)return i.jsx(i.Fragment,{children:"No such Project!"});function S(){r(!1),v("../../")}const E=p=>{p.preventDefault(),l&&u&&Gt(d,l,u,n),a("")},L=async p=>{var g,N;const C=(N=(g=e==null?void 0:e.members)==null?void 0:g.filter(F=>F.name===k))==null?void 0:N[0];ct(y,l??"",{...O,...p,assignee:C==null?void 0:C.id}),S()};return i.jsx(i.Fragment,{children:i.jsx(oe,{appear:!0,show:o,as:s.Fragment,children:i.jsxs(re,{as:"div",className:"relative z-10",onClose:S,children:[i.jsx(oe.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex h-full items-center justify-center p-4 text-center",children:i.jsx(oe.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsxs(re.Panel,{className:"w-4/6 h-2/3  transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[i.jsx(re.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Task Details"}),i.jsxs("div",{className:"mt-2 w-full flex justify between ",children:[i.jsxs("form",{className:"w-1/2 border rounded-md  p-2 mr-2",onSubmit:P(L),children:[i.jsx("input",{type:"text",required:!0,placeholder:"Enter title",id:"title",...D("title",{required:!0}),className:"w-full border rounded-md py-2 px-3 my-1 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"}),i.jsx("input",{type:"text",required:!0,placeholder:"Enter description",id:"description",...D("description",{required:!0}),className:"w-full border rounded-md py-2 px-3 my-1 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"}),i.jsx("input",{type:"date",required:!0,placeholder:"Enter due date",id:"dueDate",...D("dueDate",{required:!0}),className:"w-full border rounded-md py-2 px-3 my-1 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"}),i.jsx("h3",{children:i.jsx("strong",{children:"Assignee"})}),i.jsxs(H,{value:k,onChange:_,children:[i.jsx(H.Button,{className:"w-full border rounded-md py-2 px-3 my-2 text-gray-700 text-base text-left",children:k}),i.jsx(H.Options,{className:"absolute mt-1 max-h-60 rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:e==null?void 0:e.members.map(p=>i.jsx(H.Option,{className:({active:C})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${C?"bg-blue-100 text-blue-900":"text-gray-900"}`,value:p.name,children:({selected:C})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:`block truncate ${C?"font-medium":"font-normal"}`,children:p.name}),C?i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600",children:i.jsx(Vt,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},p.id))})]}),i.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 mt-10 mr-2 text-sm font-medium text-white hover:bg-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Update"}),i.jsx("button",{type:"submit",onClick:S,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Cancel"})]}),i.jsx("div",{className:"w-1/2 border rounded-md  p-4",children:f.isLoading?"Comments Loading":i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:" overflow-y-auto",children:f.comments.length===0?i.jsx("h1",{children:"No Comments"}):i.jsx(i.Fragment,{children:f.comments.map(p=>i.jsxs("div",{className:"border p-2 mb-2 rounded comment",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-semibold text-sm mr-2",children:p.User.name}),i.jsx("span",{className:"text-sm text-gray-400",children:new Date(p.createdAt).toLocaleString()})]}),i.jsx("p",{className:"text-sm",children:p.description})]},p.id))})}),i.jsx("div",{className:"mt-auto",children:i.jsxs("form",{className:"flex items-center bg-white rounded-lg ",onSubmit:E,children:[i.jsx("textarea",{id:"commentBox",value:n,onChange:p=>a(p.target.value),placeholder:"Add a new comment...",className:"flex-grow border-none bg-gray-100 rounded-md py-2 px-4 mr-4 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-600",rows:2}),i.jsx("button",{id:"addCommentBtn",type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2",children:"Add Comment"})]})})]})})]})]})})})})]})})})},nn=()=>{var u;const{projectID:e,taskID:o}=pe();console.log(`PROJECT:${e} AND TASK : ${o}`);const r=fe(),n=me(),a=n.isLoading,l=(u=n.projectData.tasks)==null?void 0:u[o||""];return a||!r||r!=null&&r.isLoading?i.jsx(i.Fragment,{children:"Loading..."}):l?i.jsx(Jt,{}):i.jsx(i.Fragment,{children:"No such task!"})};export{nn as default};
