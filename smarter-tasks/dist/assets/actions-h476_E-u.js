import{A as n}from"./constants-qZa9FZnL.js";const c=async o=>{const a=localStorage.getItem("authToken")??"";try{o({type:"FETCH_MEMBERS_REQUEST"});const t=await(await fetch(`${n}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).json();o({type:"FETCH_MEMBERS_SUCCESS",payload:t})}catch(e){console.log("Error fetching members:",e),o({type:"FETCH_MEMBERS_FAILURE",payload:"Unable to load projects"})}},i=async(o,a)=>{try{const e=localStorage.getItem("authToken")??"",t=await fetch(`${n}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(a)});if(!t.ok)throw new Error("Failed to create member");const r=await t.json();return r.errors&&r.errors.length>0?{ok:!1,error:r.errors[0].message}:(o({type:"ADD_MEMBER_SUCCESS",payload:r.user}),{ok:!0})}catch(e){return console.error("Operation failed:",e),{ok:!1,error:e||"An error occurred"}}},l=async(o,a)=>{try{const e=localStorage.getItem("authToken")??"",t=await fetch(`${n}/users/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to create member");const r=await t.json();return r.errors&&r.errors.length>0?{ok:!1,error:r.errors[0].message}:(o({type:"REMOVE_MEMBER_SUCCESS",payload:a}),{ok:!0})}catch(e){return console.error("Operation failed:",e),{ok:!1,error:e||"An error occurred"}}};export{i as a,l as d,c as f};
