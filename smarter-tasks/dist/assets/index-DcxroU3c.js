import{u,j as e}from"./index-BRnPnvLZ.js";import{u as m}from"./index.esm-CJkZBfoR.js";import{A as d}from"./constants-qZa9FZnL.js";const c=()=>{const{register:r,handleSubmit:n,formState:{errors:s}}=m(),i=u(),l=async a=>{try{const t=await fetch(`${d}/organisations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.organisationName,user_name:a.userName,email:a.userEmail,password:a.userPassword})});if(!t.ok)throw new Error("Sign-up failed");const o=await t.json();console.log(o),console.log("Sign-up successful"),localStorage.setItem("authToken",o.token),localStorage.setItem("userData",JSON.stringify(o.user)),i("/account")}catch(t){console.error("Sign-up failed:",t)}};return e.jsxs("form",{onSubmit:n(l),children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"organisationName",className:"block text-gray-700 font-semibold mb-2",children:"Organization Name"}),e.jsx("input",{type:"text",id:"organisationName",...r("organisationName",{required:"Organization name is required"}),placeholder:"Enter your organization name",className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),s.organisationName&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.organisationName.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"userName",className:"block text-gray-700 font-semibold mb-2",children:"Username"}),e.jsx("input",{type:"text",id:"userName",...r("userName",{required:"Username is required"}),placeholder:"Enter your username",className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),s.userName&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.userName.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"userEmail",className:"block text-gray-700 font-semibold mb-2",children:"Email"}),e.jsx("input",{type:"email",id:"userEmail",...r("userEmail",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),placeholder:"Enter your email",className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),s.userEmail&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.userEmail.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"userPassword",className:"block text-gray-700 font-semibold mb-2",children:"Password"}),e.jsx("input",{type:"password",id:"userPassword",...r("userPassword",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),placeholder:"Enter your password",className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),s.userPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.userPassword.message})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-opacity-50 transition duration-200",children:"Sign Up"})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx("a",{href:"#",className:"text-blue-500 hover:underline",children:"Sign in"})]})})]})};function h(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-400 to-indigo-600",children:e.jsxs("div",{className:"max-w-md w-full px-8 py-10 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-8",children:"Sign Up"}),e.jsx(c,{})]})})}export{h as default};
